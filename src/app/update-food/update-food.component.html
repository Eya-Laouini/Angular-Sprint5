<div class="container">
  <div>
    <h2>Modifier Plat:</h2>
  </div>
  <form>
    <div class="row">
      <div class="col-sm-2 col-md-2 col-lg-2">
        <label>ID Plat</label>
        <input readonly type="text" [(ngModel)]="currentfood.idFood" name="idFood" class="form-control">
      </div>
      <div class="col-sm-4 col-md-4 col-lg-4">
        <label>Nom Plat</label>
        <input type="text" [(ngModel)]="currentfood.nomFood" name="nomFood" class="form-control">
      </div>
      <div class="col-sm-2 col-md-2 col-lg-2">
        <label>Prix Plat</label>
        <input type="number" [(ngModel)]="currentfood.prixFood" name="prixFood" class="form-control">
      </div>
      <div class="col-sm-4 col-md-4 col-lg-4">
        <label>Date de Pr√©paration </label>
        <input type="date" [ngModel]="currentfood.datePreparation | date: 'yyyy-MM-dd'" (ngModelChange)="currentfood.datePreparation = $event" name="datePreparation" class="form-control">
      </div>
    </div>
    <div class="row mt-2">
      <div class="col-sm-4 col-md-4 col-lg-4">
        <label>Choix</label>
        <select class="form-control form-control-lg" id="idChoix" name="idChoix" [(ngModel)]="updatedChoixId">
          <option *ngFor="let choix of choix" [value]="choix.idChoix">{{ choix.nomChoix }}</option>
        </select>
      </div>
     
    </div>
    <div class="card shadow mb-4">
      <div class="card-body">
      <table class="table table-striped">
      <thead>
      <tr> <th>Image</th> </tr>
      </thead>
      <tbody *ngFor="let img of currentfood.images">
        <tr>
        <td><img class="card-img-top img-responsive"
        src = "{{'data:' + img.type + ';base64,' + img.image}}"
        style = "height :50px;width:100px"></td>
        <td style="width:20%" ><a class="btn btn-danger"
          (click)="supprimerImage(img)">Delete</a></td>
        </tr>
        </tbody>
        </table>
        </div>
        </div>
  
        <div class="mt-2">
          <button type="submit" (click)="onAddImageFood()" class="btn 
          btn-success">Ajouter Image</button>
          </div>
          
      <div class="col-sm-16 col-md-16 col-lg-16">
          <label class="mb-2">Image :</label>
          <input type="file" (change)="onImageUpload($event)" class="form-control">
          </div>

    <div class="row mt-2">
      <div class="col-sm-2 col-md-2 col-lg-2">
        <button type="submit" (click)="updatefood()" class="btn btn-success">Modifier</button>
      </div>
    </div>
  </form>
</div>